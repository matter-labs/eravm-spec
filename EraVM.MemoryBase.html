<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>EraVM.MemoryBase</title>

  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library EraVM.MemoryBase</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">RecordUpdate</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">RecordSet</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Bits</span> <span class="id" title="keyword">Require</span> <span class="id" title="library">spec</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Numbers.BinNums.html#"><span class="id" title="library">BinNums</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.FSets.FMapPositive.html#"><span class="id" title="library">FMapPositive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="EraVM.Common.html#"><span class="id" title="library">Common</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MemoryBase" class="idref" href="#MemoryBase"><span class="id" title="section">MemoryBase</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="module">ssreflect</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Numbers.BinNums.html#"><span class="id" title="module">BinNums</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="module">ZArith</span></a> <span class="id" title="module">spec</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.FSets.FMapPositive.html#"><span class="id" title="module">FMapPositive</span></a>.<br/>

<br/>
</div>

<div class="doc"><p>Memory is modeled as a mapping from addresses (integers of <span
class="inlinecode"><a class="idref" href="EraVM.MemoryBase.html#address_bits"><span
class="id" title="projection">address_bits</span></a></span> bits) to
values of type <span
class="inlinecode"><a class="idref" href="EraVM.MemoryBase.html#addressable_block"><span
class="id" title="projection">addressable_block</span></a></span>.
Unmapped addresses are mapped to the <span
class="inlinecode"><a class="idref" href="EraVM.MemoryBase.html#default_value"><span
class="id" title="projection">default_value</span></a></span>.</p>
</div>
<div class="code">
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="mem_descr" class="idref" href="#mem_descr"><span class="id" title="record">mem_descr</span></a> := <span class="id" title="var">mk_mem_descr</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="addressable_block" class="idref" href="#addressable_block"><span class="id" title="projection">addressable_block</span></a>: <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="default_value" class="idref" href="#default_value"><span class="id" title="projection">default_value</span></a>: <a class="idref" href="EraVM.MemoryBase.html#addressable_block:2"><span class="id" title="method">addressable_block</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="address_bits" class="idref" href="#address_bits"><span class="id" title="projection">address_bits</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="writable" class="idref" href="#writable"><span class="id" title="projection">writable</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="mem_params:6" class="idref" href="#mem_params:6"><span class="id" title="binder">mem_params</span></a>: <a class="idref" href="EraVM.MemoryBase.html#mem_descr"><span class="id" title="record">mem_descr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="default_value:7" class="idref" href="#default_value:7"><span class="id" title="binder">default_value</span></a> := <a class="idref" href="EraVM.MemoryBase.html#mem_params:6"><span class="id" title="variable">mem_params</span></a>.(<a class="idref" href="EraVM.MemoryBase.html#default_value"><span class="id" title="projection">default_value</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="address_bits:8" class="idref" href="#address_bits:8"><span class="id" title="binder">address_bits</span></a> := <a class="idref" href="EraVM.MemoryBase.html#mem_params:6"><span class="id" title="variable">mem_params</span></a>.(<a class="idref" href="EraVM.MemoryBase.html#address_bits"><span class="id" title="projection">address_bits</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="addressable_block:9" class="idref" href="#addressable_block:9"><span class="id" title="binder">addressable_block</span></a> := <a class="idref" href="EraVM.MemoryBase.html#mem_params:6"><span class="id" title="variable">mem_params</span></a>.(<a class="idref" href="EraVM.MemoryBase.html#addressable_block"><span class="id" title="projection">addressable_block</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="AX_ADDRESS_BITS_GT_0" class="idref" href="#AX_ADDRESS_BITS_GT_0"><span class="id" title="axiom">AX_ADDRESS_BITS_GT_0</span></a>: <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.address_bits"><span class="id" title="variable">address_bits</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'<>'_x"><span class="id" title="notation">≠</span></a> 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="address" class="idref" href="#address"><span class="id" title="definition">address</span></a> := <span class="id" title="definition">BITS</span> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.address_bits"><span class="id" title="variable">address_bits</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="mem_parameterized" class="idref" href="#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mk_mem</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="contents" class="idref" href="#contents"><span class="id" title="projection">contents</span></a> :> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.FSets.FMapPositive.html#PositiveMap.t"><span class="id" title="definition">PositiveMap.t</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc"><p>We use a map from positive numbers implemented as a tree to store
values in memory. However, address space starts at zero. Therefore,
having an address <span class="math inline">A</span> we map it to the
key <span class="math inline">K(A)</span> as follows:</p>
<p><span class="math display">K(A):= A + 1</span></p>
</div>
<div class="code">
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="addr_to_key" class="idref" href="#addr_to_key"><span class="id" title="definition">addr_to_key</span></a> (<a id="addr:13" class="idref" href="#addr:13"><span class="id" title="binder">addr</span></a>: <a class="idref" href="EraVM.MemoryBase.html#address"><span class="id" title="definition">address</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.address_bits"><span class="id" title="variable">address_bits</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">bts</span> ⇒ <span class="id" title="keyword">fun</span> <a id="Heq:15" class="idref" href="#Heq:15"><span class="id" title="binder">Heq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ZArith.BinInt.html#Z.to_pos"><span class="id" title="definition">Z.to_pos</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a>@<span class="id" title="definition">toZ</span> <span class="id" title="var">bts</span> <a class="idref" href="EraVM.MemoryBase.html#addr:13"><span class="id" title="variable">addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>

<br/>
</div>

<div class="doc"><p>All memory addresses are initialized to the default value at memory
genesis.</p>
</div>
<div class="code">
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="load" class="idref" href="#load"><span class="id" title="definition">load</span></a> (<a id="addr:16" class="idref" href="#addr:16"><span class="id" title="binder">addr</span></a> : <a class="idref" href="EraVM.MemoryBase.html#address"><span class="id" title="definition">address</span></a>) (<a id="m:17" class="idref" href="#m:17"><span class="id" title="binder">m</span></a> : <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a>) : <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.FSets.FMapPositive.html#PositiveMap.find"><span class="id" title="definition">PositiveMap.find</span></a> (<a class="idref" href="EraVM.MemoryBase.html#addr_to_key"><span class="id" title="definition">addr_to_key</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:16"><span class="id" title="variable">addr</span></a>) <a class="idref" href="EraVM.MemoryBase.html#m:17"><span class="id" title="variable">m</span></a>.(<a class="idref" href="EraVM.MemoryBase.html#contents"><span class="id" title="projection">contents</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.default_value"><span class="id" title="variable">default_value</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="store" class="idref" href="#store"><span class="id" title="definition">store</span></a> (<a id="val:18" class="idref" href="#val:18"><span class="id" title="binder">val</span></a>:<a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a>) (<a id="addr:19" class="idref" href="#addr:19"><span class="id" title="binder">addr</span></a> : <a class="idref" href="EraVM.MemoryBase.html#address"><span class="id" title="definition">address</span></a>) (<a id="m:20" class="idref" href="#m:20"><span class="id" title="binder">m</span></a> : <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a>) : <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#mk_mem"><span class="id" title="constructor">mk_mem</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.FSets.FMapPositive.html#PositiveMap.add"><span class="id" title="definition">PositiveMap.add</span></a> (<a class="idref" href="EraVM.MemoryBase.html#addr_to_key"><span class="id" title="definition">addr_to_key</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:19"><span class="id" title="variable">addr</span></a>) <a class="idref" href="EraVM.MemoryBase.html#val:18"><span class="id" title="variable">val</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:20"><span class="id" title="variable">m</span></a>).<br/>

<br/>
</div>

<div class="doc"><p>An empty memory.</p>
</div>
<div class="code">
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="empty" class="idref" href="#empty"><span class="id" title="definition">empty</span></a> := <a class="idref" href="EraVM.MemoryBase.html#mk_mem"><span class="id" title="constructor">mk_mem</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.FSets.FMapPositive.html#PositiveMap.empty"><span class="id" title="definition">PositiveMap.empty</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="load_result" class="idref" href="#load_result"><span class="id" title="inductive">load_result</span></a> (<a id="addr:21" class="idref" href="#addr:21"><span class="id" title="binder">addr</span></a>: <a class="idref" href="EraVM.MemoryBase.html#address"><span class="id" title="definition">address</span></a>) (<a id="m:22" class="idref" href="#m:22"><span class="id" title="binder">m</span></a>: <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a>) (<a id="v:23" class="idref" href="#v:23"><span class="id" title="binder">v</span></a>:<a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="LoadResultOK" class="idref" href="#LoadResultOK"><span class="id" title="constructor">LoadResultOK</span></a>: <a class="idref" href="EraVM.MemoryBase.html#load"><span class="id" title="definition">load</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:21"><span class="id" title="variable">addr</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:22"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="EraVM.MemoryBase.html#v:23"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="EraVM.MemoryBase.html#load_result:24"><span class="id" title="inductive">load_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:21"><span class="id" title="variable">addr</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:22"><span class="id" title="variable">m</span></a> <a class="idref" href="EraVM.MemoryBase.html#v:23"><span class="id" title="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="store_result" class="idref" href="#store_result"><span class="id" title="inductive">store_result</span></a> (<a id="addr:26" class="idref" href="#addr:26"><span class="id" title="binder">addr</span></a>: <a class="idref" href="EraVM.MemoryBase.html#address"><span class="id" title="definition">address</span></a>) (<a id="m:27" class="idref" href="#m:27"><span class="id" title="binder">m</span></a> : <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a>) (<a id="v:28" class="idref" href="#v:28"><span class="id" title="binder">v</span></a>:<a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a>) (<a id="m':29" class="idref" href="#m':29"><span class="id" title="binder">m'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="StoreResultOK" class="idref" href="#StoreResultOK"><span class="id" title="constructor">StoreResultOK</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#writable"><span class="id" title="projection">writable</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.mem_params"><span class="id" title="variable">mem_params</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#store"><span class="id" title="definition">store</span></a> <a class="idref" href="EraVM.MemoryBase.html#v:28"><span class="id" title="variable">v</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:26"><span class="id" title="variable">addr</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:27"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="EraVM.MemoryBase.html#m':29"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="EraVM.MemoryBase.html#store_result:30"><span class="id" title="inductive">store_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:26"><span class="id" title="variable">addr</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:27"><span class="id" title="variable">m</span></a> <a class="idref" href="EraVM.MemoryBase.html#v:28"><span class="id" title="variable">v</span></a> <a class="idref" href="EraVM.MemoryBase.html#m':29"><span class="id" title="variable">m'</span></a>.<br/>

<br/>
</div>

<div class="doc"><p>Heap variants are byte-addressable, but reads and words operate on
256-bit <span
class="inlinecode"><a class="idref" href="EraVM.Core.html#word"><span
class="id" title="definition">word</span></a></span>s. Multicell loads
return <span class="inlinecode"><span class="id"
title="var">len</span></span> consecutive bytes from memory <span
class="inlinecode"><span class="id" title="var">m</span></span> at an
address <span class="inlinecode"><span class="id"
title="var">a</span></span>.</p>
</div>
<div class="code">
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="EraVM.Arith.html#"><span class="id" title="module">Arith</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">bits_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="load_multicell" class="idref" href="#load_multicell"><span class="id" title="definition">load_multicell</span></a> (<a id="a:32" class="idref" href="#a:32"><span class="id" title="binder">a</span></a>:<a class="idref" href="EraVM.MemoryBase.html#address"><span class="id" title="definition">address</span></a>) (<a id="len:33" class="idref" href="#len:33"><span class="id" title="binder">len</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="m:34" class="idref" href="#m:34"><span class="id" title="binder">m</span></a>:<a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="EraVM.MemoryBase.html#len:33"><span class="id" title="variable">len</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">lft</span> ⇒ <span class="id" title="keyword">let</span> <a id="value:37" class="idref" href="#value:37"><span class="id" title="binder">value</span></a> := <a class="idref" href="EraVM.MemoryBase.html#load"><span class="id" title="definition">load</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:32"><span class="id" title="variable">a</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:34"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="overflow:38" class="idref" href="#overflow:38"><span class="id" title="binder">overflow</span></a>, <a id="nextaddr:39" class="idref" href="#nextaddr:39"><span class="id" title="binder">nextaddr</span></a>) := <a class="idref" href="EraVM.Arith.html#uadd_of"><span class="id" title="definition">uadd_of</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:32"><span class="id" title="variable">a</span></a> (<span class="id" title="definition">fromZ</span> 1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="EraVM.MemoryBase.html#overflow:38"><span class="id" title="variable">overflow</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="EraVM.MemoryBase.html#load_multicell:35"><span class="id" title="definition">load_multicell</span></a> <a class="idref" href="EraVM.MemoryBase.html#nextaddr:39"><span class="id" title="variable">nextaddr</span></a> <span class="id" title="var">lft</span> <a class="idref" href="EraVM.MemoryBase.html#m:34"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">tail</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <a class="idref" href="EraVM.MemoryBase.html#value:37"><span class="id" title="variable">value</span></a> <span class="id" title="var">tail</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="load_multicell_result" class="idref" href="#load_multicell_result"><span class="id" title="inductive">load_multicell_result</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#address"><span class="id" title="definition">address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="len:40" class="idref" href="#len:40"><span class="id" title="binder">len</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="lmr_end" class="idref" href="#lmr_end"><span class="id" title="constructor">lmr_end</span></a> : <span class="id" title="keyword">∀</span> <a id="a:43" class="idref" href="#a:43"><span class="id" title="binder">a</span></a> <a id="m:44" class="idref" href="#m:44"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#load_multicell_result:41"><span class="id" title="inductive">load_multicell_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:43"><span class="id" title="variable">a</span></a> 0%<span class="id" title="var">nat</span> <a class="idref" href="EraVM.MemoryBase.html#m:44"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
<br/>
&nbsp;&nbsp;| <a id="lmr_progress" class="idref" href="#lmr_progress"><span class="id" title="constructor">lmr_progress</span></a>: <span class="id" title="keyword">∀</span> <a id="addr:45" class="idref" href="#addr:45"><span class="id" title="binder">addr</span></a> <a id="nextaddr:46" class="idref" href="#nextaddr:46"><span class="id" title="binder">nextaddr</span></a> <a id="mem:47" class="idref" href="#mem:47"><span class="id" title="binder">mem</span></a> <a id="value:48" class="idref" href="#value:48"><span class="id" title="binder">value</span></a> <a id="n:49" class="idref" href="#n:49"><span class="id" title="binder">n</span></a> <a id="tail:50" class="idref" href="#tail:50"><span class="id" title="binder">tail</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="EraVM.MemoryBase.html#nextaddr:46"><span class="id" title="variable">nextaddr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="EraVM.Arith.html#uinc_of"><span class="id" title="definition">uinc_of</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:45"><span class="id" title="variable">addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#load_result"><span class="id" title="inductive">load_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:45"><span class="id" title="variable">addr</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem:47"><span class="id" title="variable">mem</span></a> <a class="idref" href="EraVM.MemoryBase.html#value:48"><span class="id" title="variable">value</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#load_multicell_result:41"><span class="id" title="inductive">load_multicell_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#nextaddr:46"><span class="id" title="variable">nextaddr</span></a> <a class="idref" href="EraVM.MemoryBase.html#n:49"><span class="id" title="variable">n</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem:47"><span class="id" title="variable">mem</span></a> <a class="idref" href="EraVM.MemoryBase.html#tail:50"><span class="id" title="variable">tail</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#load_multicell_result:41"><span class="id" title="inductive">load_multicell_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:45"><span class="id" title="variable">addr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="EraVM.MemoryBase.html#n:49"><span class="id" title="variable">n</span></a>) <a class="idref" href="EraVM.MemoryBase.html#mem:47"><span class="id" title="variable">mem</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <a class="idref" href="EraVM.MemoryBase.html#value:48"><span class="id" title="variable">value</span></a> <a class="idref" href="EraVM.MemoryBase.html#tail:50"><span class="id" title="variable">tail</span></a>)<br/>
<br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="load_multicell_spec" class="idref" href="#load_multicell_spec"><span class="id" title="lemma">load_multicell_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a:51" class="idref" href="#a:51"><span class="id" title="binder">a</span></a> <a id="len:52" class="idref" href="#len:52"><span class="id" title="binder">len</span></a> <a id="m:53" class="idref" href="#m:53"><span class="id" title="binder">m</span></a> <a id="ls:54" class="idref" href="#ls:54"><span class="id" title="binder">ls</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#load_multicell"><span class="id" title="definition">load_multicell</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:51"><span class="id" title="variable">a</span></a> <a class="idref" href="EraVM.MemoryBase.html#len:52"><span class="id" title="variable">len</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:53"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="EraVM.MemoryBase.html#ls:54"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#load_multicell_result"><span class="id" title="inductive">load_multicell_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:51"><span class="id" title="variable">a</span></a> <a class="idref" href="EraVM.MemoryBase.html#len:52"><span class="id" title="variable">len</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:53"><span class="id" title="variable">m</span></a> <a class="idref" href="EraVM.MemoryBase.html#ls:54"><span class="id" title="variable">ls</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="load_multicell_result_size" class="idref" href="#load_multicell_result_size"><span class="id" title="lemma">load_multicell_result_size</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tl:55" class="idref" href="#tl:55"><span class="id" title="binder">tl</span></a> <a id="a:56" class="idref" href="#a:56"><span class="id" title="binder">a</span></a> <a id="m:57" class="idref" href="#m:57"><span class="id" title="binder">m</span></a> <a id="v:58" class="idref" href="#v:58"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#load_multicell_result"><span class="id" title="inductive">load_multicell_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:56"><span class="id" title="variable">a</span></a> <a class="idref" href="EraVM.MemoryBase.html#tl:55"><span class="id" title="variable">tl</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:57"><span class="id" title="variable">m</span></a> <a class="idref" href="EraVM.MemoryBase.html#v:58"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">seq.size</span> <a class="idref" href="EraVM.MemoryBase.html#v:58"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="EraVM.MemoryBase.html#tl:55"><span class="id" title="variable">tl</span></a>.<br/>

<br/>
</div>

<div class="doc"><p>Similarly, <span
class="inlinecode"><a class="idref" href="EraVM.MemoryBase.html#store_multicell"><span
class="id" title="definition">store_multicell</span></a></span> accepts
a list of values and puts them in memory starting from the address <span
class="inlinecode"><span class="id" title="var">a</span></span>.</p>
</div>
<div class="code">
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="module">seq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="store_multicell" class="idref" href="#store_multicell"><span class="id" title="definition">store_multicell</span></a> (<a id="a:59" class="idref" href="#a:59"><span class="id" title="binder">a</span></a>:<a class="idref" href="EraVM.MemoryBase.html#address"><span class="id" title="definition">address</span></a>) (<a id="vals:60" class="idref" href="#vals:60"><span class="id" title="binder">vals</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a>) (<a id="m:61" class="idref" href="#m:61"><span class="id" title="binder">m</span></a>:<a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a>  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="EraVM.MemoryBase.html#writable"><span class="id" title="projection">writable</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.mem_params"><span class="id" title="variable">mem_params</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="EraVM.MemoryBase.html#vals:60"><span class="id" title="variable">vals</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[::]</span> ⇒  <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:61"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">v</span> <span class="id" title="notation">::</span> <span class="id" title="var">tail</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="stored:64" class="idref" href="#stored:64"><span class="id" title="binder">stored</span></a> := <a class="idref" href="EraVM.MemoryBase.html#store"><span class="id" title="definition">store</span></a> <span class="id" title="var">v</span> <a class="idref" href="EraVM.MemoryBase.html#a:59"><span class="id" title="variable">a</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:61"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="overflow:65" class="idref" href="#overflow:65"><span class="id" title="binder">overflow</span></a>, <a id="nextaddr:66" class="idref" href="#nextaddr:66"><span class="id" title="binder">nextaddr</span></a>) := <a class="idref" href="EraVM.Arith.html#uinc_of"><span class="id" title="definition">uinc_of</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:59"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="EraVM.MemoryBase.html#overflow:65"><span class="id" title="variable">overflow</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#store_multicell:62"><span class="id" title="definition">store_multicell</span></a> <a class="idref" href="EraVM.MemoryBase.html#nextaddr:66"><span class="id" title="variable">nextaddr</span></a> <span class="id" title="var">tail</span> <a class="idref" href="EraVM.MemoryBase.html#stored:64"><span class="id" title="variable">stored</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="store_multicell_result" class="idref" href="#store_multicell_result"><span class="id" title="inductive">store_multicell_result</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#address"><span class="id" title="definition">address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.addressable_block"><span class="id" title="variable">addressable_block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem_parameterized"><span class="id" title="record">mem_parameterized</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="smr_end" class="idref" href="#smr_end"><span class="id" title="constructor">smr_end</span></a> : <span class="id" title="keyword">∀</span> <a id="a:69" class="idref" href="#a:69"><span class="id" title="binder">a</span></a> <a id="m:70" class="idref" href="#m:70"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#writable"><span class="id" title="projection">writable</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.mem_params"><span class="id" title="variable">mem_params</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#store_multicell_result:67"><span class="id" title="inductive">store_multicell_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:69"><span class="id" title="variable">a</span></a> <span class="id" title="notation">[::]</span> <a class="idref" href="EraVM.MemoryBase.html#m:70"><span class="id" title="variable">m</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:70"><span class="id" title="variable">m</span></a><br/>
<br/>
&nbsp;&nbsp;| <a id="smr_progress" class="idref" href="#smr_progress"><span class="id" title="constructor">smr_progress</span></a>: <span class="id" title="keyword">∀</span> <a id="addr:71" class="idref" href="#addr:71"><span class="id" title="binder">addr</span></a> <a id="nextaddr:72" class="idref" href="#nextaddr:72"><span class="id" title="binder">nextaddr</span></a> <a id="mem:73" class="idref" href="#mem:73"><span class="id" title="binder">mem</span></a> <a id="mem':74" class="idref" href="#mem':74"><span class="id" title="binder">mem'</span></a> <a id="mem'':75" class="idref" href="#mem'':75"><span class="id" title="binder">mem''</span></a> <a id="value:76" class="idref" href="#value:76"><span class="id" title="binder">value</span></a> <a id="tail:77" class="idref" href="#tail:77"><span class="id" title="binder">tail</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#writable"><span class="id" title="projection">writable</span></a> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase.mem_params"><span class="id" title="variable">mem_params</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="EraVM.MemoryBase.html#nextaddr:72"><span class="id" title="variable">nextaddr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="EraVM.Arith.html#uinc_of"><span class="id" title="definition">uinc_of</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:71"><span class="id" title="variable">addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#store_result"><span class="id" title="inductive">store_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:71"><span class="id" title="variable">addr</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem:73"><span class="id" title="variable">mem</span></a> <a class="idref" href="EraVM.MemoryBase.html#value:76"><span class="id" title="variable">value</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem':74"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#store_multicell_result:67"><span class="id" title="inductive">store_multicell_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#nextaddr:72"><span class="id" title="variable">nextaddr</span></a> <a class="idref" href="EraVM.MemoryBase.html#tail:77"><span class="id" title="variable">tail</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem':74"><span class="id" title="variable">mem'</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem'':75"><span class="id" title="variable">mem''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#store_multicell_result:67"><span class="id" title="inductive">store_multicell_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#addr:71"><span class="id" title="variable">addr</span></a> (<a class="idref" href="EraVM.MemoryBase.html#value:76"><span class="id" title="variable">value</span></a><span class="id" title="notation">::</span><a class="idref" href="EraVM.MemoryBase.html#tail:77"><span class="id" title="variable">tail</span></a>)  <a class="idref" href="EraVM.MemoryBase.html#mem:73"><span class="id" title="variable">mem</span></a> <a class="idref" href="EraVM.MemoryBase.html#mem'':75"><span class="id" title="variable">mem''</span></a><br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="store_multicell_spec" class="idref" href="#store_multicell_spec"><span class="id" title="lemma">store_multicell_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ls:78" class="idref" href="#ls:78"><span class="id" title="binder">ls</span></a> <a id="a:79" class="idref" href="#a:79"><span class="id" title="binder">a</span></a> <a id="m:80" class="idref" href="#m:80"><span class="id" title="binder">m</span></a> <a id="m':81" class="idref" href="#m':81"><span class="id" title="binder">m'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#store_multicell"><span class="id" title="definition">store_multicell</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:79"><span class="id" title="variable">a</span></a> <a class="idref" href="EraVM.MemoryBase.html#ls:78"><span class="id" title="variable">ls</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:80"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="EraVM.MemoryBase.html#m':81"><span class="id" title="variable">m'</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EraVM.MemoryBase.html#store_multicell_result"><span class="id" title="inductive">store_multicell_result</span></a> <a class="idref" href="EraVM.MemoryBase.html#a:79"><span class="id" title="variable">a</span></a> <a class="idref" href="EraVM.MemoryBase.html#ls:78"><span class="id" title="variable">ls</span></a> <a class="idref" href="EraVM.MemoryBase.html#m:80"><span class="id" title="variable">m</span></a> <a class="idref" href="EraVM.MemoryBase.html#m':81"><span class="id" title="variable">m'</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="EraVM.MemoryBase.html#MemoryBase"><span class="id" title="section">MemoryBase</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>